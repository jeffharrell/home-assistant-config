title: "Outside"
path: "outside"
theme: subview
subview: true
back_path: "/lovelace/home"
cards:

  - type: vertical-stack
    cards:

      # tiles
      - type: grid
        columns: 2
        square: false
        cards:
          - type: custom:bubble-card
            entity: switch.fountain
            card_type: button
            use_accent_color: false
            tap_action:
              action: toggle
            icon_tap_action:
              action: toggle

          - type: custom:bubble-card
            entity: switch.garage_fan
            card_type: button
            use_accent_color: true
            tap_action:
              action: toggle
            icon_tap_action:
              action: toggle

          - type: custom:bubble-card
            entity: switch.house_fan
            card_type: button
            use_accent_color: true
            tap_action:
              action: toggle
            icon_tap_action:
              action: toggle

          - type: custom:bubble-card
            entity: group.garages
            name: "Garages"
            card_type: button
            use_accent_color: true
            tap_action:
              action: navigate
              navigation_path: "#popup-garages"
            button_action:
              tap_action:
                action: navigate
                navigation_path: "#popup-garages"

      # what's on
      - type: entity-filter
        card:
          state_color: true
          show_header_toggle: false
          card_mod:
            style: |
              :host ha-card {
                margin: 25px 0 0;
                height: auto;
                transition: none;
              }
        entities:
          - binary_sensor.front_door
          - binary_sensor.family_room_doors
          - binary_sensor.master_bedroom_doors
          - binary_sensor.laundry_room_door
          - binary_sensor.dining_room_window
          - binary_sensor.living_room_window_left
          - binary_sensor.living_room_window_right
          - binary_sensor.kitchen_window
          - binary_sensor.boys_window
          - binary_sensor.playroom_window
          - binary_sensor.guest_window
          - binary_sensor.master_bedroom_window
          - binary_sensor.garage_side_door
        conditions:
          - condition: state
            state: "on"
        show_empty: false

      # settings
      - type: entities
        title: "Advanced"
        state_color: false
        show_header_toggle: false
        entities:
          - type: divider
          - entity: input_boolean.camera_motion_enabled
            icon: mdi:creation
            name: "Motion Alerts"
          - entity: automation.cameras_doorbell
            icon: mdi:creation
            name: "Doorbell Alerts"
          - entity: automation.cameras_mailbox_open
            icon: mdi:creation
            name: "Mailbox Alerts"
        card_mod:
          style: |
            :host ha-card {
              margin: 25px 0 0;
              height: auto;
              transition: none;
            }

            :host ha-card h1 {
              padding: 5px 15px 10px;
            }

  # pop ups
  - type: vertical-stack
    cards:
      
      - type: custom:bubble-card
        card_type: pop-up
        hash: "#popup-garages"

      - type: grid
        columns: 3
        square: false
        cards:
          - type: entity-button
            show_name: true
            show_state: true
            entity: cover.garage_door_1
            tap_action:
              action: call-service
              service: switch.turn_on
              data:
                entity_id: switch.garage_door_1
              confirmation:
                text: "Toggle garage door"

          - type: entity-button 
            show_name: true
            show_state: true
            entity: cover.garage_door_2
            tap_action:
              action: call-service
              service: switch.turn_on
              data:
                entity_id: switch.garage_door_2
              confirmation:
                text: "Toggle garage door"

          - type: entity-button
            show_name: true
            show_state: true
            entity: cover.garage_door_3
            tap_action:
              action: call-service
              service: switch.turn_on
              data:
                entity_id: switch.garage_door_3
              confirmation:
                text: "Toggle garage door"