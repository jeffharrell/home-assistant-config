title: "Powerwall"
path: "energy"
visible: false
cards:

  - type: vertical-stack
    cards:
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.powerwall_battery_now
            aggregate_func: avg
            show_legend: false
            name: "Powerwall"
            color: green
          - entity: sensor.powerwall_site_now
            aggregate_func: avg
            show_legend: false
            name: "Grid"
            color: orange
        name: "Electricity Usage"
        line_width: 3
        show:
          graph: line
          labels: false

      - type: horizontal-stack
        cards:
          - type: statistic
            name: "Solar Total"
            entity: sensor.powerwall_solar_export
            period:
              calendar:
                period: day
            stat_type: change

          - type: sensor
            name: "Now"
            entity: sensor.powerwall_solar_now

      - type: horizontal-stack
        cards:
          - type: statistic
            name: "Home Total"
            entity: sensor.powerwall_load_import
            period:
              calendar:
                period: day
            stat_type: change

          - type: sensor
            name: "Now"
            entity: sensor.powerwall_load_now
            
      - type: horizontal-stack
        cards:
          - type: statistic
            name: "Grid Import"
            entity: sensor.powerwall_site_import
            period:
              calendar:
                period: day
            stat_type: change

          - type: statistic
            name: "Grid Export"
            entity: sensor.powerwall_site_export
            period:
              calendar:
                period: day
            stat_type: change